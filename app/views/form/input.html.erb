<% provide(:title, 'FormTag') %>

<div class="col-md-8 col-md-offset-2">

  <h1>
    <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
    FormTag#input
  </h1>
  <p>Find me in app/views/form/input.html.erb</p>

  <hr>

  <%= form_tag(form_output_path, method: "post", class: "") do %>

      <div class="form-group row">
        <div class="col-sm-2">
          <%= label_tag(:select, "Select", class: "col-form-label") %>
        </div>
        <div class="col-sm-10">
          <%= select_tag :select,
                         options_for_select([
                                                ["選択肢１", "1"],
                                                ["選択肢２", "2"],
                                                ["選択肢３", "3"],
                                            ]),
                         class: "form-control", autofocus: true, prompt: "選択してください。" %>
        </div>
      </div>

      <div class="form-group row">
        <div class="col-sm-2">
          <%= label_tag(:text_field, "TextBox", class: "form-label") %>
        </div>
        <div class="col-sm-10">
          <%= text_field_tag(:text_field, 'デフォルト値', class: "form-control") %>
        </div>
      </div>

      <div class="form-group row">
        <div class="col-sm-2">
          <%= label_tag(:text_area, "TextArea", class: "form-label") %>
        </div>
        <div class="col-sm-10">
          <%= text_area_tag :text_area, 'デフォルト値', :rows => @rows, class: "form-control" %>
        </div>
      </div>

      <div class="form-group row">
        <div class="col-sm-2">
          <%= label_tag(:check_box, "CheckBox", class: "form-label") %>
        </div>
        <div class="col-sm-10">
          <%= check_box_tag :check_box, true, true, {class: ''} %>
        </div>
      </div>

      <div class="form-group row">
        <div class="col-sm-2">
          <%= label_tag(:radio_button, "RadioButton", class: "form-label") %>
        </div>
        <div class="col-sm-10">
          <%= radio_button_tag :radio_button, '1', true %> 1<br>
          <%= radio_button_tag :radio_button, '2' %> 2
        </div>
      </div>


      <div class="form-group row">
        <div class="col-sm-2">
        </div>
        <div class="col-sm-10">
          <%= submit_tag("Submit", class: "btn btn-primary") %>
        </div>
      </div>

  <% end %>
</div>

<script type="text/javascript" charset="utf-8">
    // DOM要素が全て読み込まれた段階で実行する
    $(function () {
        form_disable_true();
    });
    // セレクトメニューの値が変更された場合、
    $("#select").change(function () {
        var selected = $("#select option:selected").val();
        // var selected = $("#select option:selected").text();
        // 有効な値が選択された場合、
        if (selected != "") {
            // フォームを操作できるようにする
            form_disable_false();
        } else {
            // フォームを操作出来ないようにする
            form_disable_true();
        }
    });
    // フォームを操作出来ないようにする
    function form_disable_true() {
        $("#text_field").prop('disabled', true);
        $("#text_area").prop('disabled', true);
        $("#check_box").prop('disabled', true);
        $("input[name=radio_button]").prop('disabled', true);
        $("input[type=submit]").prop('disabled', true);
        console.log('test');
    }
    // フォームを操作出来るようにする
    function form_disable_false() {
        $("#text_field").prop('disabled', false);
        $("#text_area").prop('disabled', false);
        $("#check_box").prop('disabled', false);
        $("input[name=radio_button]").prop('disabled', false);
        $("input[type=submit]").prop('disabled', false);
    }
</script>